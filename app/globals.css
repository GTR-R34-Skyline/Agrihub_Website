/* Tailwind & animations */
@import "tailwindcss";
@import "tw-animate-css";

/* Removed Leaflet CSS import to fix blob URL loading error */

/* Define design tokens in Tailwind v4 format:
   Use HSL numeric values so utilities like bg-background work. */
@theme inline {
  /* Typography */
  --font-sans: var(--font-dm-sans);
  --font-mono: var(--font-geist-mono);

  /* Semantic colors (LIGHT) */
  --color-background: 0 0% 100%; /* #ffffff */
  --color-foreground: 215 16% 47%; /* ~#475569 */

  --color-card: 210 40% 96%; /* ~#f1f5f9 */
  --color-card-foreground: 117 41% 30%; /* ~#2f6b2d earthy green */

  --color-popover: 0 0% 100%;
  --color-popover-foreground: 215 16% 47%;

  --color-primary: 117 41% 30%; /* brand green */
  --color-primary-foreground: 0 0% 100%;

  --color-secondary: 210 40% 96%;
  --color-secondary-foreground: 215 16% 47%;

  --color-muted: 210 40% 96%;
  --color-muted-foreground: 220 9% 46%; /* ~#6b7280 */

  --color-accent: 43 74% 58%; /* brand gold ~#E3B341 */
  --color-accent-foreground: 215 25% 17%; /* ~#1f2937 */

  --color-destructive: 21 90% 54%; /* ~#ea580c */
  --color-destructive-foreground: 0 0% 100%;

  --color-border: 214 32% 91%; /* ~#e5e7eb */
  --color-input: 0 0% 100%;
  --color-ring: 117 41% 30%; /* brand green */

  /* Charts */
  --color-chart-1: 117 41% 30%;
  --color-chart-2: 119 27% 52%; /* ~#65a864 */
  --color-chart-3: 43 74% 58%;
  --color-chart-4: 215 16% 47%;
  --color-chart-5: 21 90% 54%;

  /* Radii */
  --radius-sm: calc(0.5rem - 4px);
  --radius-md: calc(0.5rem - 2px);
  --radius-lg: 0.5rem;
  --radius-xl: calc(0.5rem + 4px);

  /* Sidebar */
  --color-sidebar: 0 0% 100%;
  --color-sidebar-foreground: 215 16% 47%;
  --color-sidebar-primary: 117 41% 30%;
  --color-sidebar-primary-foreground: 0 0% 100%;
  --color-sidebar-accent: 43 74% 58%;
  --color-sidebar-accent-foreground: 0 0% 100%;
  --color-sidebar-border: 214 32% 91%;
  --color-sidebar-ring: 117 41% 30%;
}

/* Dark mode: override the same tokens with dark-appropriate values */
@custom-variant dark (&:is(.dark *));
.dark {
  --color-background: 210 17% 9%; /* ~#0f1714 */
  --color-foreground: 210 40% 96%; /* ~#e5e7eb */

  --color-card: 210 14% 8%;
  --color-card-foreground: 156 36% 88%; /* gentle green-ish text */

  --color-popover: 210 14% 8%;
  --color-popover-foreground: 210 40% 96%;

  --color-primary: 117 41% 30%; /* keep brand green */
  --color-primary-foreground: 0 0% 100%;

  --color-secondary: 220 21% 11%; /* ~#111827 */
  --color-secondary-foreground: 210 40% 96%;

  --color-muted: 220 21% 11%;
  --color-muted-foreground: 213 27% 84%; /* ~#cbd5e1 */

  --color-accent: 43 74% 58%;
  --color-accent-foreground: 210 17% 9%;

  --color-destructive: 21 90% 54%;
  --color-destructive-foreground: 210 17% 9%;

  --color-border: 220 17% 20%; /* ~#1f2937 */
  --color-input: 210 14% 8%;
  --color-ring: 117 41% 30%;

  /* Charts (dark) */
  --color-chart-1: 117 41% 30%;
  --color-chart-2: 119 27% 52%;
  --color-chart-3: 43 74% 58%;
  --color-chart-4: 213 27% 84%;
  --color-chart-5: 21 90% 54%;

  /* Sidebar (dark) */
  --color-sidebar: 210 14% 8%;
  --color-sidebar-foreground: 210 40% 96%;
  --color-sidebar-primary: 117 41% 30%;
  --color-sidebar-primary-foreground: 0 0% 100%;
  --color-sidebar-accent: 43 74% 58%;
  --color-sidebar-accent-foreground: 210 17% 9%;
  --color-sidebar-border: 220 17% 20%;
  --color-sidebar-ring: 117 41% 30%;
}

/* Removed Leaflet-specific CSS rules since we're no longer using Leaflet */

/* Base element styles using raw CSS variables (no unknown utilities) */
@layer base {
  * {
    border-color: hsl(var(--color-border));
  }
  body {
    background-color: hsl(var(--color-background));
    color: hsl(var(--color-foreground));
  }
  a,
  button,
  input,
  select,
  textarea,
  [role="button"] {
    outline: 2px solid transparent;
    outline-offset: 2px;
  }
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [role="button"]:focus-visible {
    box-shadow: 0 0 0 2px hsl(var(--color-ring)), 0 0 0 4px hsl(var(--color-background));
  }
}

/* Explicit semantic utility fallbacks so classes are always available */
@utility bg-background {
  background-color: hsl(var(--color-background));
}
@utility text-foreground {
  color: hsl(var(--color-foreground));
}

@utility bg-card {
  background-color: hsl(var(--color-card));
}
@utility text-card-foreground {
  color: hsl(var(--color-card-foreground));
}

@utility bg-popover {
  background-color: hsl(var(--color-popover));
}
@utility text-popover-foreground {
  color: hsl(var(--color-popover-foreground));
}

@utility bg-muted {
  background-color: hsl(var(--color-muted));
}
@utility text-muted-foreground {
  color: hsl(var(--color-muted-foreground));
}

@utility bg-primary {
  background-color: hsl(var(--color-primary));
}
@utility text-primary-foreground {
  color: hsl(var(--color-primary-foreground));
}

@utility bg-secondary {
  background-color: hsl(var(--color-secondary));
}
@utility text-secondary-foreground {
  color: hsl(var(--color-secondary-foreground));
}

@utility bg-accent {
  background-color: hsl(var(--color-accent));
}
@utility text-accent-foreground {
  color: hsl(var(--color-accent-foreground));
}

@utility border-border {
  border-color: hsl(var(--color-border));
}

@utility ring-ring {
  --tw-ring-color: hsl(var(--color-ring));
}
@utility ring-offset-background {
  --tw-ring-offset-color: hsl(var(--color-background));
}
